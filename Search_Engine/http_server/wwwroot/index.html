
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <body>
    <script src="http://code.jquery.com/jquery.js" type="text/javascript"></script>
    <script src="../../jquery.tmpl.js" type="text/javascript" ></script>
    <script src="../../jquery.tmplPlus.js" type="text/javascript"></script>
    <ul id="movieList"></ul> 

    <script id="movieTemplate" type="text/x-jquery-tmpl"> 
      <li><a href="${url}">${title}</a></li>
      <li>${desc}</li>
      <li>${url}</li>
    </script> 

    <script type="text/javascript"> 
      var movies = query; 
//使用eval函数格式化JSON字符串
var dataArray = eval('(' + movies + ')');
//使用for循环遍历转化后的对象数组，此时i为数组的下标
for (var i in dataArray){
  //打印出每个对象的cityName属性
  console.log(dataArray[i].desc);

}
$( "#movieTemplate"  ).tmpl( movies  ) 
  .appendTo( "#movieList"  ); 

    </script>   
  </body>
</html>
